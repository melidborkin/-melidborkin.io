<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Coca-Cola · Dashboard de campañas</title>

  <!-- ======  ESTILOS  (lo que tenías en app.css, embebido) ====== -->
  <style>
    /* Fuentes */
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;600&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Lobster&display=swap');

    html{scroll-behavior:smooth;}
    body{margin:0;background:#f9f9f9;font-family:'Poppins',sans-serif;}

    /* ---------- Menú hamburguesa ---------- */
    .menu-wrapper{position:fixed;top:1.5rem;right:2rem;z-index:1000}
    .hamburger{font-size:2rem;background:none;border:none;cursor:pointer}
    .menu-desplegable{position:absolute;right:0;top:3rem;background:#fff;border:1px solid #ccc;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1)}
    .menu-desplegable ul{list-style:none;margin:0;padding:.5rem 1rem}
    .menu-desplegable li{margin:.5rem 0}
    .menu-desplegable a{text-decoration:none;color:#DD1D2A;font-weight:500}

    /* ---------- Contenedor principal ---------- */
    #container{max-width:1280px;margin:0 auto;padding:4rem 2rem;box-sizing:border-box}
    .content{text-align:center}

    /* Encabezado */
    .title{font-size:7rem;margin-bottom:2rem;color:#DD1D2A;font-family:'Lobster',cursive}
    .description{font-size:1.5rem;font-weight:500;color:#4a4a4a;letter-spacing:3px;margin-bottom:8rem}
    .text_1{font-size:1rem;color:#6c757d;font-weight:500;text-align:center;line-height:1.6;letter-spacing:2px;max-width:900px;margin:auto}
    .text_2{font-size:1rem;color:#262626;font-weight:500;text-align:justify;line-height:2;letter-spacing:1.5px;padding:4rem;max-width:1000px;margin:3rem auto}

    /* Tipología lata/botella */
    .imagen-tipo{padding:4rem 1rem;display:flex;justify-content:center;align-items:flex-end;gap:2rem;flex-wrap:wrap}
    .imagen-tipo img{max-width:100px}

    .leyenda{font-size:.9rem;color:#000;font-style:italic;text-align:center;line-height:1.5rem;margin:auto}

    /* Rayas divisoras */
    .linea-roja1,.linea-roja2{width:40%;height:1px;background:#DD1D2A;border:none;margin:4rem auto}
    .linea-roja1{margin-top:10rem}

    /* ---------- Visualización principal ---------- */
    .chart{display:flex;flex-direction:column;align-items:center;gap:2rem;padding:2rem 3rem;margin-top:3rem}
    .visual-array{display:flex;align-items:flex-end;justify-content:space-between;gap:0;padding:0 2rem;overflow-x:auto;width:1280px;box-sizing:border-box;margin-bottom:4rem}
    .item{flex:0 0 auto;width:120px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end}
    .etiquetas-superiores{display:flex;flex-direction:column;align-items:center;height:70px;margin-bottom:.5rem}
    .anio-top{font-size:1rem;font-weight:600;color:#4a4a4a}
    .campania-nombre{font-size:.75rem;color:#4a4a4a;max-width:100px;text-align:center;line-height:1.2}
    .imagen-wrapper{display:flex;align-items:flex-end;justify-content:center;height:300px;width:100%}
    .image-button{padding:0;border:none;background:none;cursor:zoom-in;line-height:0}
    .image-button img{display:block;height:100%;transition:transform .3s}
    .item:hover img{transform:scale(1.15)}
    .num{font-weight:1000;font-size:1.5rem;margin-top:.5rem}

    /* ---------- Modal zoom ---------- */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;justify-content:center;align-items:center;z-index:9999;cursor:zoom-out}
    .modal-img{max-width:90vw;max-height:90vh;border-radius:10px;box-shadow:0 0 20px rgba(255,255,255,.3)}

    /* ---------- Secciones Flourish ---------- */
    .titulo-visualizacion{font-size:1.3rem;color:#4a4a4a;font-weight:600;letter-spacing:1.5px;text-align:center;margin:1rem auto 2rem auto;max-width:800px}
    .grafico-flourish{max-width:800px;margin:2rem auto}
    .grafico-descripcion{font-size:1rem;color:#4a4a4a;text-align:justify;max-width:800px;margin:3rem auto}

    /* Tabla */
    .tabla-campanias{margin:8rem auto 1rem;border-collapse:collapse;background:#f2f2f2;font-size:.95rem;color:#262626}
    .tabla-campanias th,.tabla-campanias td{padding:.75rem 1.5rem;border-bottom:1px solid #ff3c3c3b;white-space:nowrap}

    /* Footer */
    .footer{margin-top:4rem;padding:2rem;background:#f2f2f2;text-align:center;font-size:.9rem;color:#444}
    .footer a{color:#DD1D2A;text-decoration:none;font-weight:500}

    /* ---------- RESPONSIVE ---------- */
    @media(max-width:768px){
      .title{font-size:3rem}
      .description{font-size:1rem;margin-bottom:1.5rem}
      .visual-array{gap:2rem;padding:1rem 2rem}
      .item{width:100px}
      .imagen-wrapper{max-height:250px}
      .image-button img{max-height:120px}
      .num{font-size:.9rem}
      .text_1,.text_2{font-size:.9rem;padding:2rem}
      .grafico-descripcion{font-size:.85rem;padding:0 1rem}
      .flourish-embed-iframe{aspect-ratio:16/9}
    }

    /* Imprimir */
    @media print{
      .menu-wrapper,.footer{display:none!important}
      body{zoom:90%}
    }
  </style>
</head>

<body>
<main id="container">
  <!-- ========== MENÚ HAMBURGUESA ========== -->
  <div class="menu-wrapper" id="menuWrapper">
    <button class="hamburger" id="btnMenu">☰</button>
    <nav class="menu-desplegable" id="menu" hidden>
      <ul>
        <li><a href="#grafico-principal">Visualización principal</a></li>
        <li><a href="#ventas">Ventas</a></li>
        <li><a href="#inversion">Inversión</a></li>
        <li><a href="#comparativa">Comparativa</a></li>
      </ul>
    </nav>
  </div>

  <!-- ========== CABECERA ========== -->
  <div class="content">
    <h1 class="title">Coca-Cola</h1>
    <h2 class="description">La evolución de una marca icónica</h2>
    <h3 class="text_1">
      Coca-Cola es un gesto, un recuerdo, un instante que marcó una época.
      Desde un jingle que unió al mundo hasta una botella compartida entre amigos,
      cada campaña encierra mucho más que marketing: cuenta una parte de nuestra cultura.
    </h3>

    <!-- Ejemplo de dos imágenes tipo -->
    <div class="imagen-tipo">
      <img src="images/LataTipo.svg" alt="Lata tipo">
      <img src="images/BotellaTipo.svg" alt="Botella tipo">
    </div>
    <p class="leyenda">
      El tamaño de cada envase, junto a cada número, reflejan el impacto simbólico dentro de la evolución publicitaria de la marca. <br>
      Las latas representan impactos menores a 70. Las botellas representan impactos mayores a 70.
    </p>
  </div>

  <hr class="linea-roja1">

  <!-- ========== VISUALIZACIÓN PRINCIPAL ========== -->
  <section id="grafico-principal" class="chart">
    <h2 class="titulo-visualizacion">Impacto porcentual de las campañas publicitarias en las ventas de Coca-Cola</h2>
    <div class="visual-array" id="visualArray"></div>
  </section>

  <hr class="linea-roja2">

  <!-- ========== GRÁFICOS FLOURISH ========== -->
  <section id="ventas">
    <h2 class="titulo-visualizacion">Gráfico de área</h2>
    <div class="grafico-flourish">
      <iframe src="https://flo.uri.sh/visualisation/22635724/embed"
              title="Gráfico de área"
              class="flourish-embed-iframe"
              frameborder="0" scrolling="no"
              style="width:100%;height:450px;"
              sandbox="allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-top-navigation-by-user-activation"></iframe>
    </div>
    <p class="grafico-descripcion">
      El área refleja cómo el impacto simbólico ha crecido constantemente a lo largo de la década,
      incluso frente a escenarios adversos como la pandemia.
    </p>
  </section>

  <!-- ... (repite tus otras secciones Flourish) ... -->

  <!-- ========== TABLA ========== -->
  <table class="tabla-campanias" id="tabla">
    <thead><tr><th>Campaña</th><th>Año</th><th>Impacto</th><th>Inversión</th></tr></thead>
    <tbody></tbody>
  </table>
</main>

<footer class="footer">
  Proyecto realizado por <strong>Melina Dborkin</strong> |
  Tecnología Digital – Universidad Torcuato Di Tella |
  <a href="mailto:mdborkin@mail.utdt.edu">mdborkin@mail.utdt.edu</a> |
  <a href="https://www.linkedin.com/in/melinadborkin" target="_blank">LinkedIn</a>
</footer>

<!-- ======  SCRIPTS  (tu lógica en Svelte, versión vanilla) ====== -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
/* ----- Datos ----- */
const data = [
  {valor:24, anio:1971, campania:"I'd Like to Buy the World a Coke", inversion:23},
  {valor:33, anio:1985, campania:"New Coke", inversion:35},
  {valor:42, anio:1993, campania:"Always Coca-Cola", inversion:45},
  {valor:54, anio:2000, campania:"Coca-Cola Music", inversion:56},
  {valor:63, anio:2006, campania:"The Coke Side of Life", inversion:50},
  {valor:71, anio:2010, campania:"Open Happiness", inversion:43},
  {valor:77, anio:2014, campania:"Share a Coke", inversion:38},
  {valor:87, anio:2018, campania:"Taste the Feeling", inversion:32},
  {valor:92, anio:2020, campania:"Together Tastes Better", inversion:28},
  {valor:98, anio:2024, campania:"Real Magic", inversion:25}
];
const altura = d3.scaleLinear().domain([24,98]).range([100,300]);
const colorGrad = d3.scaleLinear()
                    .domain([0,0.5,1])
                    .range(['#ff3c3c','#ec1d1d','#770000']);

/* ----- Construir visual principal ----- */
const cont = d3.select('#visualArray');
data.forEach((d,i)=>{
  const item = cont.append('div').attr('class','item');

  // Imagen
  const imgBtn = item.append('button')
                     .attr('class','image-button')
                     .on('click',()=>openModal(d.valor<70?'images/Lata.svg':'images/Botella.svg'));
  imgBtn.append('img')
        .attr('src', d.valor<70?'images/Lata.svg':'images/Botella.svg')
        .attr('alt', d.valor<70?'Lata':'Botella')
        .style('height', altura(d.valor)+'px');

  // Número
  item.append('p')
      .attr('class','num')
      .style('color', colorGrad(i/(data.length-1)))
      .text(d.valor);

  // Etiquetas año + campaña
  const lab = item.append('div').attr('class','etiquetas-superiores');
  lab.append('p').attr('class','anio-top').text(d.anio);
  lab.append('p').attr('class','campania-nombre').text(d.campania);
});

/* ----- Tabla ----- */
const tbody = d3.select('#tabla tbody');
data.forEach((d,i)=>{
  const tr = tbody.append('tr');
  tr.append('td').text(d.campania);
  tr.append('td').style('color',colorGrad(i/(data.length-1))).style('font-weight','bold').text(d.anio);
  tr.append('td').style('text-align','center').text(d.valor);
  tr.append('td').style('text-align','center').text(d.inversion);
});

/* ----- Modal ----- */
function openModal(src){
  const modal = document.createElement('div');
  modal.className='modal';
  modal.innerHTML = '<img class="modal-img" src="'+src+'" alt="Zoom">';
  modal.onclick = ()=>document.body.removeChild(modal);
  document.body.appendChild(modal);
  window.addEventListener('keydown', e=>{if(e.key==='Escape') modal.click();},{once:true});
}

/* ----- Menú hover ----- */
const btnMenu = document.getElementById('btnMenu');
const menu = document.getElementById('menu');
btnMenu.addEventListener('mouseenter',()=>menu.hidden=false);
btnMenu.addEventListener('mouseleave',()=>setTimeout(()=>menu.hidden=true,300));
menu.addEventListener('mouseenter',()=>menu.hidden=false);
menu.addEventListener('mouseleave',()=>menu.hidden=true);
</script>
</body>
</html>
